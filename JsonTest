import csv
import json

# Define input and output file paths
input_file_path = 'Test.json'
output_file_path = 'processed_data1.csv'

# Constants for new columns
LABELS = "forsure"
PRODUCTS_NAME = "Back End"
ISSUE_TYPE = "Xray Test"
POD_ENVIRONMENT = "QA"
ASSOCIATED_PROJECT = "Backend Team"

# Read the JSON file
with open(input_file_path, 'r') as infile:
    data = json.load(infile)

# Open the output CSV file
with open(output_file_path, 'w', newline='') as outfile:
    csv_writer = csv.writer(outfile)
    # Write the header to the CSV file
    csv_writer.writerow(['Summary', 'Description', 'Labels', 'Product(s) Name', 'Issue Type', 'Pod Environment', 'Associated Project', 'PATH'])
    
    for entry in data:
        summary = entry.get('supplier', '')
        path = entry.get('product_name', '')
        
        # Write the row to the CSV file
        csv_writer.writerow([summary, '', LABELS, PRODUCTS_NAME, ISSUE_TYPE, POD_ENVIRONMENT, ASSOCIATED_PROJECT, path])

print(f"Data has been written to {output_file_path}")
